HAS_BACKEND_CHANGED=$(git diff --cached --name-only -- backend/)
HAS_FRONTEND_CHANGED=$(git diff --cached --name-only -- frontend/)

echo "Running pre-commit hooks"
echo "Backend changed: $HAS_BACKEND_CHANGED"
echo "Frontend changed: $HAS_FRONTEND_CHANGED"

if [ -n "$HAS_BACKEND_CHANGED" ]; then
	echo "Running backend pre-commits checks..."
	make lint_backend
fi

if [ -n "$HAS_FRONTEND_CHANGED" ]; then
	echo "Running frontend pre-commit checks..."
	make lint_frontend
fi
